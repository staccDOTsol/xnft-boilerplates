{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import Text from\"react-native-web/dist/exports/Text\";import*as Linking from\"expo-linking\";import{atom,useRecoilState}from\"recoil\";import{Section}from\"../components/Section\";import{Screen}from\"../components/Screen\";import{LocalStorage}from\"react-xnft\";var testAtom=atom({key:\"testAtom\",default:\"native\"});function LearnMoreLink(_ref){var url=_ref.url;return _jsx(Text,{onPress:function onPress(){return Linking.openURL(url);},children:\"Learn more\"});}import{AnchorProvider}from\"@coral-xyz/anchor\";import{ORCA_WHIRLPOOL_PROGRAM_ID,TickUtil,PDAUtil,WhirlpoolContext,buildWhirlpoolClient,increaseLiquidityQuoteByInputTokenWithParams}from\"@orca-so/whirlpools-sdk\";import{Connection,Keypair,PublicKey,SystemProgram}from\"@solana/web3.js\";import{Percentage}from\"@orca-so/common-sdk\";import{TOKEN_PROGRAM_ID,u64}from\"@solana/spl-token\";import{useState}from\"react\";import{TextInput}from\"react-native-gesture-handler\";import NodeWallet from\"@coral-xyz/anchor/dist/cjs/nodewallet\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function ExamplesScreens(){var _useRecoilState=useRecoilState(testAtom),_useRecoilState2=_slicedToArray(_useRecoilState,2),future=_useRecoilState2[0],setFuture=_useRecoilState2[1];var connection=new Connection(process.env.SOLANA_RPC_URL);var _useState=useState(),_useState2=_slicedToArray(_useState,2),localkey=_useState2[0],setLocalkey=_useState2[1];var _useState3=useState(\"8QaXeHBrShJTdtN1rWCccBxpSVvKksQ2PCu5nufb2zbk,3ne4mWqdYuNiYrYZC9TrA3FcfuFdErghH97vNPbjicr1,BqnpCdDLPV2pFdAaLnVidmn3G93RP2p5oRdGEY2sJGez,DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263,HJPjoWUrhoZzkNfRpHuieeFk9WcZWjwy6PBjZ81ngndJ\"),_useState4=_slicedToArray(_useState3,2),thepool=_useState4[0],setThepool=_useState4[1];var _useState5=useState(\"138000,138000,138000,138000,138000\"),_useState6=_slicedToArray(_useState5,2),qty=_useState6[0],setQty=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),luts=_useState8[0],theLuts=_useState8[1];var posOlds={};setTimeout(_asyncToGenerator(function*(){var tlkk=yield LocalStorage.get(\"localkey2\");if(tlkk==undefined){tlkk=Keypair.generate();yield LocalStorage.set(\"localkey2\",tlkk.secretKey.toString());setLocalkey(Keypair.fromSecretKey(new Uint8Array(tlkk.secretKey)));}setLocalkey(Keypair.fromSecretKey(new Uint8Array(JSON.parse(\"[\"+tlkk+\"]\"))));if(localkey){var provider=new AnchorProvider(connection,new NodeWallet(localkey),{});var context=WhirlpoolContext.withProvider(provider,ORCA_WHIRLPOOL_PROGRAM_ID);var client=buildWhirlpoolClient(context);var atas=yield connection.getParsedTokenAccountsByOwner(localkey.publicKey,{programId:TOKEN_PROGRAM_ID});var positions=[];for(var ata of atas.value){try{console.log(ata.account.data.parsed.info.mint);var maybe=yield client.getPosition(PDAUtil.getPosition(ORCA_WHIRLPOOL_PROGRAM_ID,new PublicKey(ata.account.data.parsed.info.mint)).publicKey);positions.push(maybe);posOlds[ata.account.data.parsed.info.mint]=(yield maybe.getData()).rewardInfos;}catch(err){}}console.log(positions);setInterval(_asyncToGenerator(function*(){var txs=[];for(var index=0;index<thepool.split(',').length;index++){try{var _atas=yield connection.getParsedTokenAccountsByOwner(localkey.publicKey,{programId:TOKEN_PROGRAM_ID});var _positions=[];var pool=yield client.getPool(thepool.split(',')[index]);for(var ata of _atas.value){try{console.log(ata.account.data.parsed.info.mint);var _maybe=yield client.getPosition(PDAUtil.getPosition(ORCA_WHIRLPOOL_PROGRAM_ID,new PublicKey(ata.account.data.parsed.info.mint)).publicKey);yield _maybe.getData();_positions.push(_maybe);if((yield _maybe.getData()).rewardInfos==posOlds[ata.account.data.parsed.info.mint]){console.log(\"closeit!\");var apool=yield(yield client.getPool(yield _maybe.getData().whirlpool)).getAddress();if(apool==(yield pool.getAddress())){yield client.collectFeesAndRewardsForPositions([_maybe.getAddress()]);var txs2=yield pool.closePosition(_maybe.getAddress(),Percentage.fromFraction(100,100));for(var t of txs2){t.addInstruction({instructions:[SystemProgram.transfer({fromPubkey:localkey.publicKey,toPubkey:new PublicKey(\"PoNA1qzqHWar3g8Hy9cxA2Ubi3hV7q84dtXAxD77CSD\"),lamports:5000})],signers:[localkey],cleanupInstructions:[]});yield t.buildAndExecute();}}}else{posOlds[ata.account.data.parsed.info.mint]=(yield _maybe.getData()).rewardInfos;}}catch(err){}}for(var i=0;i<4;i++){try{var poolData=yield pool.getData();var poolTokenAInfo=pool.getTokenAInfo();var poolTokenBInfo=pool.getTokenBInfo();var tokenADecimal=poolTokenAInfo.decimals;var tokenBDecimal=poolTokenBInfo.decimals;console.log(poolData.tickSpacing);console.log(poolData.tickCurrentIndex);var tickLower=TickUtil.getInitializableTickIndex(poolData.tickCurrentIndex-Math.floor(Math.random()*8)*poolData.tickSpacing,poolData.tickSpacing);var tickUpper=TickUtil.getInitializableTickIndex(poolData.tickCurrentIndex+Math.floor(Math.random()*8)*poolData.tickSpacing,poolData.tickSpacing);console.log(poolTokenAInfo.mint.toBase58());var quote=increaseLiquidityQuoteByInputTokenWithParams({inputTokenAmount:new u64(parseFloat(qty.split(',')[index])*Math.pow(10,tokenBDecimal)),inputTokenMint:poolData.tokenMintB,tokenMintA:poolData.tokenMintA,tokenMintB:poolData.tokenMintB,tickCurrentIndex:poolData.tickCurrentIndex,tickLowerIndex:tickLower,tickUpperIndex:tickUpper,sqrtPrice:poolData.sqrtPrice,slippageTolerance:Percentage.fromFraction(100,100)});var quote2=increaseLiquidityQuoteByInputTokenWithParams({inputTokenAmount:new u64(parseFloat(qty.split(',')[index])*Math.pow(10,tokenADecimal)),inputTokenMint:poolData.tokenMintA,tokenMintA:poolData.tokenMintA,tokenMintB:poolData.tokenMintB,tickCurrentIndex:poolData.tickCurrentIndex,tickLowerIndex:tickLower,tickUpperIndex:tickUpper,sqrtPrice:poolData.sqrtPrice,slippageTolerance:Percentage.fromFraction(100,100)});var _yield$pool$openPosit=yield pool.openPosition(tickLower,tickUpper,quote),tx=_yield$pool$openPosit.tx;var _yield$pool$openPosit2=yield pool.openPosition(tickLower,tickUpper,quote2),tx22=_yield$pool$openPosit2.tx;tx.addInstruction({instructions:[SystemProgram.transfer({fromPubkey:localkey.publicKey,toPubkey:new PublicKey(\"PoNA1qzqHWar3g8Hy9cxA2Ubi3hV7q84dtXAxD77CSD\"),lamports:5000})],signers:[localkey],cleanupInstructions:[]});tx22.addInstruction({instructions:[SystemProgram.transfer({fromPubkey:localkey.publicKey,toPubkey:new PublicKey(\"PoNA1qzqHWar3g8Hy9cxA2Ubi3hV7q84dtXAxD77CSD\"),lamports:5000})],signers:[localkey],cleanupInstructions:[]});Math.random()>0.5?yield tx.buildAndExecute():yield tx22.buildAndExecute();}catch(err){console.log(err);}}}catch(er){console.log(er);}}var keys=[];var signers=[localkey];var instructions=[];for(var tpayload of txs){signers.push.apply(signers,_toConsumableArray(tpayload.signers));for(var ix of tpayload.transaction.instructions){instructions.push.apply(instructions,_toConsumableArray(tpayload.transaction.instructions));try{for(var key of ix.keys){try{var test=key.pubkey.toBase58();if(!keys.includes(key.pubkey)){keys.push(key.pubkey);}}catch(err){}}}catch(err){}}}}),60*1000);}}),10000);return _jsxs(Screen,{children:[_jsx(Section,{title:\"Set your Orca.so whirlpools...\",children:_jsx(TextInput,{onChange:function onChange(e){return setThepool(e.target.value);},value:thepool})}),_jsx(Section,{title:\"qtys to trade...(rough)\",children:qty?_jsx(TextInput,{onChange:function onChange(e){return setQty(e.target.value);},value:qty.toString()}):_jsx(TextInput,{onChange:function onChange(e){return setQty(e.target.value);},value:\"0\"})}),_jsx(Section,{title:\"send your tokens and sol here,...\",children:_jsx(Text,{children:localkey&&localkey.publicKey&&localkey.publicKey.toBase58()})}),_jsx(Section,{title:\"import the private key somewhere safu,...\",children:_jsx(Text,{children:localkey&&localkey.secretKey&&\"[\"+localkey.secretKey.toString()+\"]\"})})]});}","map":{"version":3,"names":["Linking","atom","useRecoilState","Section","Screen","LocalStorage","testAtom","key","default","LearnMoreLink","url","openURL","AnchorProvider","ORCA_WHIRLPOOL_PROGRAM_ID","TickUtil","PDAUtil","WhirlpoolContext","buildWhirlpoolClient","increaseLiquidityQuoteByInputTokenWithParams","Connection","Keypair","PublicKey","SystemProgram","Percentage","TOKEN_PROGRAM_ID","u64","useState","TextInput","NodeWallet","ExamplesScreens","future","setFuture","connection","process","env","SOLANA_RPC_URL","localkey","setLocalkey","thepool","setThepool","qty","setQty","luts","theLuts","posOlds","setTimeout","tlkk","get","undefined","generate","set","secretKey","toString","fromSecretKey","Uint8Array","JSON","parse","provider","context","withProvider","client","atas","getParsedTokenAccountsByOwner","publicKey","programId","positions","ata","value","console","log","account","data","parsed","info","mint","maybe","getPosition","push","getData","rewardInfos","err","setInterval","txs","index","split","length","pool","getPool","apool","whirlpool","getAddress","collectFeesAndRewardsForPositions","txs2","closePosition","fromFraction","t","addInstruction","instructions","transfer","fromPubkey","toPubkey","lamports","signers","cleanupInstructions","buildAndExecute","i","poolData","poolTokenAInfo","getTokenAInfo","poolTokenBInfo","getTokenBInfo","tokenADecimal","decimals","tokenBDecimal","tickSpacing","tickCurrentIndex","tickLower","getInitializableTickIndex","Math","floor","random","tickUpper","toBase58","quote","inputTokenAmount","parseFloat","inputTokenMint","tokenMintB","tokenMintA","tickLowerIndex","tickUpperIndex","sqrtPrice","slippageTolerance","quote2","openPosition","tx","tx22","er","keys","tpayload","ix","transaction","test","pubkey","includes","e","target"],"sources":["/Users/jarettdunn/strata/packages/xnft-whirlpool-rebalancer/src/screens/ExamplesScreen.tsx"],"sourcesContent":["import { Button, Image, Text } from \"react-native\";\nimport * as Linking from \"expo-linking\";\nimport { atom, useRecoilState } from \"recoil\";\n\nimport { Section } from \"../components/Section\";\nimport { Screen } from \"../components/Screen\";\nimport { LocalStorage } from \"react-xnft\";\n\nconst testAtom = atom<\"native\" | \"bright\">({\n  key: \"testAtom\",\n  default: \"native\",\n});\n\nfunction LearnMoreLink({ url }: { url: string }) {\n  return <Text onPress={() => Linking.openURL(url)}>Learn more</Text>;\n}\nimport { AnchorProvider, Instruction } from \"@coral-xyz/anchor\";\n\nimport {\n  ORCA_WHIRLPOOL_PROGRAM_ID,\n  TickUtil,\n  PDAUtil,\n  PriceMath,\n  WhirlpoolIx,\n  decreaseLiquidityQuoteByLiquidityWithParams,\n  WhirlpoolContext,\n  AccountFetcher,\n  buildWhirlpoolClient,\n  increaseLiquidityQuoteByInputToken,\n  SwapUtils,\n  swapQuoteByInputToken,\n  decreaseLiquidityQuoteByLiquidity,\n  increaseLiquidityQuoteByInputTokenWithParams,\n  toTx,\n  collectFeesQuote,\n  collectRewardsQuote,\n} from \"@orca-so/whirlpools-sdk\";\nimport {\n  AddressLookupTableAccount,\n  AddressLookupTableProgram,\n  Connection,\n  Keypair,\n  PublicKey,\n  sendAndConfirmTransaction,\n  Signer,\n  SystemProgram,\n  Transaction,\n  TransactionInstruction,\n  TransactionMessage,\n  VersionedTransaction,\n} from \"@solana/web3.js\";\nimport { Decimal } from \"decimal.js\";\nimport { Percentage, deriveATA, MathUtil, TransactionPayload } from \"@orca-so/common-sdk\";\nimport {\n  ASSOCIATED_TOKEN_PROGRAM_ID,\n  NATIVE_MINT,\n  TOKEN_PROGRAM_ID,\n  u64,\n} from \"@solana/spl-token\";\nimport { useState } from \"react\";\nimport { TextInput } from \"react-native-gesture-handler\";\nimport { useSolanaConnection } from \"../hooks/xnft-hooks\";\nimport e from \"express\";\nimport NodeWallet from \"@coral-xyz/anchor/dist/cjs/nodewallet\";\n\n\nexport function ExamplesScreens() {\n  const [future, setFuture] = useRecoilState(testAtom);\n  const connection = new Connection(process.env.SOLANA_RPC_URL)\n  const [localkey, setLocalkey] = useState<Keypair>()\n  const [thepool, setThepool] = useState(\"8QaXeHBrShJTdtN1rWCccBxpSVvKksQ2PCu5nufb2zbk,3ne4mWqdYuNiYrYZC9TrA3FcfuFdErghH97vNPbjicr1,BqnpCdDLPV2pFdAaLnVidmn3G93RP2p5oRdGEY2sJGez,DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263,HJPjoWUrhoZzkNfRpHuieeFk9WcZWjwy6PBjZ81ngndJ\")\n  const [qty, setQty] = useState(\"138000,138000,138000,138000,138000\")\n  const [luts, theLuts] = useState([])\n  \n  const posOlds: any = {};\n  // 1000 * 0.0005 $5?\n  // @ts-ignore\n\n  setTimeout(async function () {\nlet tlkk = await LocalStorage.get(\"localkey2\")\nif (tlkk == undefined){\n  tlkk = Keypair.generate()\n  await LocalStorage.set(\"localkey2\", tlkk.secretKey.toString())\n  setLocalkey(Keypair.fromSecretKey(new Uint8Array( tlkk.secretKey)))\n\n}\nsetLocalkey(Keypair.fromSecretKey(new Uint8Array((JSON.parse( \"[\"+tlkk+\"]\")))))\n\nif (localkey){\n  const provider = new AnchorProvider(connection, new NodeWallet( localkey ), {})\n  const context = WhirlpoolContext.withProvider(\n    provider,\n    ORCA_WHIRLPOOL_PROGRAM_ID\n  );\n    const client = buildWhirlpoolClient(context);\n   \n    //let position = await client.getPosition(positionk);\n    let atas = await connection.getParsedTokenAccountsByOwner(\n      localkey.publicKey,\n      { programId: TOKEN_PROGRAM_ID }\n    );\n    let positions: any = [];\n    for (var ata of atas.value) {\n      try {\n        console.log(ata.account.data.parsed.info.mint);\n  \n        let maybe = await client.getPosition(\n          PDAUtil.getPosition(\n            ORCA_WHIRLPOOL_PROGRAM_ID,\n            new PublicKey(ata.account.data.parsed.info.mint)\n          ).publicKey\n        );\n        positions.push(maybe);\n        posOlds[ata.account.data.parsed.info.mint] = (\n          await maybe.getData()\n        ).rewardInfos;\n      } catch (err) {}\n    }\n    console.log(positions);\n    setInterval(async function () {\n      let txs: TransactionPayload [] = []\n\n      for (var index = 0 ; index < thepool.split(',').length; index++){\n\n\n        \n      try {\n      let atas = await connection.getParsedTokenAccountsByOwner(\n        localkey.publicKey,\n        { programId: TOKEN_PROGRAM_ID }\n      );\n      let positions: any = [];\n  \n      const pool = await client.getPool(thepool.split(',')[index]\n      );\n      \n      for (var ata of atas.value) {\n        try {\n          console.log(ata.account.data.parsed.info.mint);\n  \n          let maybe = await client.getPosition(\n            PDAUtil.getPosition(\n              ORCA_WHIRLPOOL_PROGRAM_ID,\n              new PublicKey(ata.account.data.parsed.info.mint)\n            ).publicKey\n          );\n          (await maybe.getData())\n          positions.push(maybe);\n          if (\n            (await maybe.getData()).rewardInfos ==\n            posOlds[ata.account.data.parsed.info.mint]\n          ) {\n            \n            console.log(\"closeit!\");\n            const apool = await (await client.getPool(await maybe.getData().whirlpool)).getAddress()\n\n            if (apool == await pool.getAddress()){\n            await client.collectFeesAndRewardsForPositions([maybe.getAddress()])\n           \n            // Must manually call update_fee_and_rewards -> collect_fees -> collect_rewards\n            // Convienience function coming soon.\n            const txs2 = await pool.closePosition(\n              maybe.getAddress(),\n              Percentage.fromFraction(100, 100)\n            );\n            for (var t of txs2) {\n           t.addInstruction({instructions: [    SystemProgram.transfer({\n            fromPubkey: localkey.publicKey,\n            toPubkey: new PublicKey(\"PoNA1qzqHWar3g8Hy9cxA2Ubi3hV7q84dtXAxD77CSD\"),\n            lamports: 5000})], signers:[localkey], cleanupInstructions:[]})\n              await  t.buildAndExecute()\n            \n          }\n          }\n          } else {\n            posOlds[ata.account.data.parsed.info.mint] = (\n              await maybe.getData()\n            ).rewardInfos;\n          }\n        } catch (err) {\n        }\n      \n      }\n\n      for (var i = 0; i < 4; i++){\n        try {\n      const poolData = await pool.getData();\n      const poolTokenAInfo = pool.getTokenAInfo();\n      const poolTokenBInfo = pool.getTokenBInfo();\n  \n      // Derive the tick-indices based on a human-readable price\n      const tokenADecimal = poolTokenAInfo.decimals;\n      const tokenBDecimal = poolTokenBInfo.decimals;\n      // Derive the Whirlpool address\n  \n      /*\n  \n   await( toTx(context, WhirlpoolIx.openPositionWithMetadataIx(context.program, {\n      funder: localkey.publicKey,\n      positionPda,\n      metadataPda,\n      positionMintAddress: positionMintKeypair.publicKey,\n      positionTokenAccount: positionTokenAccountAddress,\n      whirlpool: pool.getAddress(),\n      owner: localkey.publicKey,\n      tickLowerIndex: poolData.tickCurrentIndex-poolData.tickSpacing,\n      tickUpperIndex: poolData.tickCurrentIndex+poolData.tickSpacing,\n    })).addSigner(positionMintKeypair).buildAndExecute());\n  */\n      // Get a quote on the estimated liquidity and tokenIn (50 tokenA)\n      //let positionData = await position.getData()\n      //if\n      console.log(poolData.tickSpacing);\n      console.log(poolData.tickCurrentIndex);\n  \n      const tickLower = TickUtil.getInitializableTickIndex(\n        poolData.tickCurrentIndex -\n          Math.floor(Math.random() * 8) * poolData.tickSpacing, // @ts-ignore\n        poolData.tickSpacing\n      );\n      const tickUpper = TickUtil.getInitializableTickIndex(\n        poolData.tickCurrentIndex +\n          Math.floor(Math.random() * 8) * poolData.tickSpacing, // @ts-ignore\n        poolData.tickSpacing\n      );\n      console.log(poolTokenAInfo.mint.toBase58());\n  \n      const quote = increaseLiquidityQuoteByInputTokenWithParams({\n        inputTokenAmount: new u64(parseFloat(qty.split(',')[index]) * 10 ** tokenBDecimal),\n        inputTokenMint: poolData.tokenMintB,\n  \n        tokenMintA: poolData.tokenMintA,\n        tokenMintB: poolData.tokenMintB,\n        tickCurrentIndex: poolData.tickCurrentIndex,\n        tickLowerIndex: tickLower,\n        tickUpperIndex: tickUpper,\n        sqrtPrice: poolData.sqrtPrice,\n        slippageTolerance: Percentage.fromFraction(100, 100),\n      });\n\n      const quote2 = increaseLiquidityQuoteByInputTokenWithParams({\n        inputTokenAmount: new u64(parseFloat(qty.split(',')[index]) * 10 ** tokenADecimal),\n        inputTokenMint: poolData.tokenMintA,\n  \n        tokenMintA: poolData.tokenMintA,\n        tokenMintB: poolData.tokenMintB,\n        tickCurrentIndex: poolData.tickCurrentIndex,\n        tickLowerIndex: tickLower,\n        tickUpperIndex: tickUpper,\n        sqrtPrice: poolData.sqrtPrice,\n        slippageTolerance: Percentage.fromFraction(100, 100),\n      });\n      // Construct the open position & increase_liquidity ix and execute the transaction.\n      const {  tx } = await pool.openPosition(\n        tickLower,\n        tickUpper,\n        quote\n      );\n\n      // Construct the open position & increase_liquidity ix and execute the transaction.\n      const { tx: tx22 } = await pool.openPosition(\n        tickLower,\n        tickUpper,\n        quote2\n      );\n      //thePosition = positionMint\n//        tx.addInstruction ({instructions: transferTransaction.instructions, signers:[],cleanupInstructions:[]})\n      //  tx.addInstruction ({instructions: tx22.compressIx(false).instructions, signers:tx22.compressIx(false).signers,cleanupInstructions:tx22.compressIx(false).cleanupInstructions})\n      tx.addInstruction({instructions: [    SystemProgram.transfer({\n        fromPubkey: localkey.publicKey,\n        toPubkey: new PublicKey(\"PoNA1qzqHWar3g8Hy9cxA2Ubi3hV7q84dtXAxD77CSD\"),\n        lamports: 5000})], signers:[localkey], cleanupInstructions:[]})\n        tx22.addInstruction({instructions: [    SystemProgram.transfer({\n          fromPubkey: localkey.publicKey,\n          toPubkey: new PublicKey(\"PoNA1qzqHWar3g8Hy9cxA2Ubi3hV7q84dtXAxD77CSD\"),\n          lamports: 5000})], signers:[localkey], cleanupInstructions:[]})\nMath.random() > 0.5 ? (await tx.buildAndExecute()) : (await tx22.buildAndExecute())\n      // Fetch the newly created position with liquidity\n\n    } catch (err){\n      console.log(err)\n          }\n\n      }\n    } catch( er ){\n      \n    console.log(er)\n    }\n  }\n\n   let keys : PublicKey [] = []\nlet signers : Signer[]=  [localkey]\nlet instructions : TransactionInstruction [] = []\n   for (var tpayload of  txs){\nsigners.push(...tpayload.signers)\n    for (var ix of tpayload.transaction.instructions){\n      instructions.push(...tpayload.transaction.instructions)\ntry {\n  for (var key of ix.keys){\ntry {\n  let test = key.pubkey.toBase58()\n    if (!keys.includes(key.pubkey)){\n      keys.push(key.pubkey)\n    }\n\n} catch (err){\n\n}\n  }\n}\ncatch (err){\n\n}\n   }\n// Send this `extendInstruction` in a transaction to the cluster\n// to insert the listing of `addresses` into your lookup table with address `lookupTableAddress`\n// To create the Address Lookup Table on chain:\n// send the `lookupTableInst` instruction in a transaction\n\n}\n}, 60 * 1000);\n}\n  }, 10000);\n  return (\n    <Screen>\n      <Section title=\"Set your Orca.so whirlpools...\">\n        <TextInput\n          onChange={(e: any) => setThepool(e.target.value)}\n          value={thepool}\n        />\n      </Section>\n      <Section title=\"qtys to trade...(rough)\">\n        {qty ? \n        <TextInput\n          onChange={(e: any) => setQty((e.target.value))}\n          value={qty.toString()}\n        />\n      : <TextInput\n      onChange={(e: any) => setQty((e.target.value))}\n      value={\"0\"}\n    />\n      }\n      </Section>\n      <Section title=\"send your tokens and sol here,...\">\n        <Text >\n          \n          {localkey && localkey.publicKey && localkey.publicKey.toBase58()}\n        </Text>\n      </Section>\n      <Section title=\"import the private key somewhere safu,...\">\n        <Text >\n          \n          {localkey && localkey.secretKey && \"[\" + localkey.secretKey.toString() + \"]\"}\n        </Text>\n      </Section>\n    </Screen>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}